<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[PR 《刻意练习》]]></title>
      <url>http://mei6.site/2017/11/22/Reading-%E5%88%BB%E6%84%8F%E7%BB%83%E4%B9%A0/</url>
      <content type="html"><![CDATA[<p>打卡，10000小时的练习，还是10000小时的刻意练习？</p>
<a id="more"></a>
<p>这本书读起来轻松了很多，结构好，思路清晰，还标重点，结合目标、提问，读的很顺畅。</p>
<ol>
<li>练习要做，要坚持做</li>
<li>要有目标，不盲目</li>
<li>练习重点、专项</li>
<li>利用反馈，不断调整</li>
<li>还能获得新技能</li>
</ol>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E3%80%8A%E5%88%BB%E6%84%8F%E7%BB%83%E4%B9%A0%E3%80%8B.png" alt="《刻意练习》"></p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E5%88%BB%E6%84%8F%E7%BB%83%E4%B9%A0-MindMapping.jpg" alt="刻意练习-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR 《学习之道》]]></title>
      <url>http://mei6.site/2017/11/21/Reading-%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%81%93/</url>
      <content type="html"><![CDATA[<p>打卡，划小圈，逆境</p>
<a id="more"></a>
<p>有感触的几个点：</p>
<ol>
<li>划小圈，缩小广度，增加强度/深度，把精力集中一点，不要太过分散，持续练习</li>
<li>利用逆境，发现自己其他的可能，持续练习</li>
<li>障碍不是障碍，是有待征服的挑战</li>
<li>从错误中学习，不断反思自己</li>
</ol>
<p>弘丹的书评：<a href="http://www.sohu.com/a/143593206_257039" target="_blank" rel="noopener">《学习之道》|如何从初学者成长为高手？</a></p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E3%80%8A%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%81%93%E3%80%8B.jpeg" alt="《学习之道》"></p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%81%93-MindMapping.jpg" alt="学习之道-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR 《好好学习》]]></title>
      <url>http://mei6.site/2017/11/20/Reading-%E5%A5%BD%E5%A5%BD%E5%AD%A6%E4%B9%A0/</url>
      <content type="html"><![CDATA[<p>打卡，非常好的一本书，阅读的时间点刚好契合我现阶段的目标 - 打造自己的知识体系。</p>
<a id="more"></a>
<p>这是第一遍读这本书，最希望做的是能通过作者提到的提升学习能力的具体方法，先去模仿作者已有的做法，提升自己的能力。当我的能力达有一定提升后，再去运用作者提到的更深入的理念。</p>
<p>结合前面几本书中学习到的手账、笔记技巧，先去做刻意训练、记录、反省和定期回顾，养成习惯。</p>
<p>下一次阅读，可能会有更深、不同角度的理解。</p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E3%80%8A%E5%A5%BD%E5%A5%BD%E5%AD%A6%E4%B9%A0%E3%80%8B.jpg" alt="《好好学习》"></p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E5%A5%BD%E5%A5%BD%E5%AD%A6%E4%B9%A0-MindMapping.jpeg" alt="好好学习-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR 主题阅读 - 笔记]]></title>
      <url>http://mei6.site/2017/11/20/Reading-%E4%B8%BB%E9%A2%98-%E7%AC%94%E8%AE%B0/</url>
      <content type="html"><![CDATA[<h2 id="目的"><a class="header-anchor" href="#目的"> </a>目的</h2>
<p>为什么做笔记？
笔记是用来干什么的？
什么时候使用笔记
记笔记付出了时间、精力，给我带来了哪些回报？</p>
<blockquote>
<p>以终为始</p>
</blockquote>
<h2 id="正确姿势"><a class="header-anchor" href="#正确姿势"> </a>正确姿势</h2>
<h2 id="注意要点"><a class="header-anchor" href="#注意要点"> </a>注意要点</h2>
<h2 id="整理"><a class="header-anchor" href="#整理"> </a>整理</h2>
<h2 id="使用"><a class="header-anchor" href="#使用"> </a>使用</h2>
<p>检索</p>
<h2 id="效能"><a class="header-anchor" href="#效能"> </a>效能</h2>
<p>要能随时记录、随时查阅，全平台可同步
手机
pad
电脑</p>
<p>手账使用软件Mac/IOS 的日历工具</p>
<ol>
<li>Mac上用Fatastical 2</li>
<li>IOS上XX 5</li>
</ol>
<p>笔记 EverNote</p>
<p>代码：Dash</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR 《高效人士用超级笔记术》]]></title>
      <url>http://mei6.site/2017/11/19/Reading-%E9%AB%98%E6%95%88%E4%BA%BA%E5%A3%AB%E7%94%A8%E8%B6%85%E7%BA%A7%E7%AC%94%E8%AE%B0%E6%9C%AF/</url>
      <content type="html"><![CDATA[<p>打卡，《高效人士用超级笔记术》</p>
<ol>
<li>从‘记笔记’变为‘使用笔记’</li>
<li>写给未来的自己，想象未来的自己使用笔记的时候是怎样的</li>
<li>整理笔记，通过符号来标识重点、关系、顺序</li>
<li>使用笔记激发创意，已有事物的重新组合</li>
<li>传达笔记</li>
</ol>
<a id="more"></a>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E3%80%8A%E9%AB%98%E6%95%88%E4%BA%BA%E5%A3%AB%E7%94%A8%E8%B6%85%E7%BA%A7%E7%AC%94%E8%AE%B0%E6%9C%AF%E3%80%8B.jpg" alt="《高效人士用超级笔记术》">
<img src="http://ogjeb66bz.bkt.clouddn.com/%E9%AB%98%E6%95%88%E4%BA%BA%E5%A3%AB%E7%94%A8%E8%B6%85%E7%BA%A7%E7%AC%94%E8%AE%B0%E6%9C%AF-MindMapping.jpeg" alt="高效人士用超级笔记术-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR 主题阅读-打造自己的思维模式]]></title>
      <url>http://mei6.site/2017/11/19/Reading-%E4%B8%BB%E9%A2%98-%E6%89%93%E9%80%A0%E8%87%AA%E5%B7%B1%E7%9A%84%E6%80%9D%E7%BB%B4%E6%A8%A1%E5%BC%8F/</url>
      <content type="html"><![CDATA[<p>打卡，主题阅读，打造自己的思维模式</p>
<ol>
<li>思考</li>
<li>行动</li>
<li>训练</li>
</ol>
<a id="more"></a>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E4%B8%BB%E9%A2%98-%E6%89%93%E9%80%A0%E8%87%AA%E5%B7%B1%E7%9A%84%E6%80%9D%E7%BB%B4%E6%A8%A1%E5%BC%8F-MindMapping.jpg" alt="主题-打造自己的思维模式-MindMapping">
<img src="http://ogjeb66bz.bkt.clouddn.com/%E3%80%8A%E7%BB%93%E6%9E%84%E6%80%A7%E6%80%9D%E7%BB%B4%E3%80%8B-1.jpg" alt="《结构性思维》">
<img src="http://ogjeb66bz.bkt.clouddn.com/%E9%9A%90%E6%80%A7%E9%80%BB%E8%BE%91%EF%BC%9A%E6%95%99%E4%BD%A0%E5%BF%AB%E9%80%9F%E5%88%87%E6%8D%A2%E6%80%9D%E8%80%83%E6%96%B9%E5%BC%8F.jpg" alt="隐性逻辑：教你快速切换思考方式">
<img src="http://ogjeb66bz.bkt.clouddn.com/%E3%80%8A%E5%A6%82%E4%BD%95%E6%89%93%E9%80%A0%E4%BD%A0%E7%9A%84%E7%8B%AC%E7%89%B9%E8%A7%82%E7%82%B9%E3%80%8B-1.jpg" alt="《如何打造你的独特观点》"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR 《别让不会记笔记害了你》]]></title>
      <url>http://mei6.site/2017/11/17/Reading-%E5%88%AB%E8%AE%A9%E4%B8%8D%E4%BC%9A%E8%AE%B0%E7%AC%94%E8%AE%B0%E5%AE%B3%E4%BA%86%E4%BD%A0/</url>
      <content type="html"><![CDATA[<p>打卡，《别让不会记笔记害了你》比较有收获的几个点：</p>
<ol>
<li>借助建立自己的知识体系，不断积累</li>
<li>要不断整理所记的笔记</li>
<li>搜集箱，每天去处理，有价值的归类，没有价值的丢弃</li>
<li>更新换代，练习记笔记的方式，提高记笔记的能力</li>
<li>为行动服务</li>
</ol>
<a id="more"></a>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E3%80%8A%E5%88%AB%E8%AE%A9%E4%B8%8D%E4%BC%9A%E8%AE%B0%E7%AC%94%E8%AE%B0%E5%AE%B3%E4%BA%86%E4%BD%A0%E3%80%8B.jpg" alt="《别让不会记笔记害了你》">
<img src="http://ogjeb66bz.bkt.clouddn.com/%E5%88%AB%E8%AE%A9%E4%B8%8D%E4%BC%9A%E8%AE%B0%E7%AC%94%E8%AE%B0%E5%AE%B3%E4%BA%86%E4%BD%A0-MindMapping.jpeg" alt="别让不会记笔记害了你-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR 《神奇手账》]]></title>
      <url>http://mei6.site/2017/11/16/Reading-%E7%A5%9E%E5%A5%87%E6%89%8B%E8%B4%A6/</url>
      <content type="html"><![CDATA[<p>打卡，《神奇手账》，开始翻看了一下觉着书很一般，PR一遍，激活的时候发现很好的一本书，几个观点特别受用，兴奋的给人讲了一遍，哈哈。</p>
<ol>
<li>每天留给自己一段时间，不让自己觉着时间都被工作和忙碌占满，“每日一绿”</li>
<li>记录负面的情绪，转化为正面的反省力</li>
<li>记录成功的原因，积累成功的秘密</li>
<li>每周目标，每月目标，每年目标，能在年末的时候看看这一年有了怎样的收获</li>
</ol>
<p>推荐！</p>
<a id="more"></a>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E3%80%8A%E7%A5%9E%E5%A5%87%E6%89%8B%E8%B4%A6%E3%80%8B.jpg" alt="《神奇手账》">
<img src="http://ogjeb66bz.bkt.clouddn.com/%E7%A5%9E%E5%A5%87%E6%89%8B%E8%B4%A6-MindMapping.jpeg" alt="神奇手账-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR 《如何打造你的独特观点》]]></title>
      <url>http://mei6.site/2017/11/15/Reading-%E5%A6%82%E4%BD%95%E6%89%93%E9%80%A0%E4%BD%A0%E7%9A%84%E7%8B%AC%E7%89%B9%E8%A7%82%E7%82%B9/</url>
      <content type="html"><![CDATA[<p>打卡，还需要更多的训练和思考才能慢慢地形成自己的观点，还要不断地分享，和《跃迁》里面提到的观点不谋而合。</p>
<a id="more"></a>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E3%80%8A%E5%A6%82%E4%BD%95%E6%89%93%E9%80%A0%E4%BD%A0%E7%9A%84%E7%8B%AC%E7%89%B9%E8%A7%82%E7%82%B9%E3%80%8B.jpg" alt="《如何打造你的独特观点》">
<img src="http://ogjeb66bz.bkt.clouddn.com/%E5%A6%82%E4%BD%95%E6%89%93%E9%80%A0%E4%BD%A0%E7%9A%84%E7%8B%AC%E7%89%B9%E8%A7%82%E7%82%B9-MindMapping.jpeg" alt="如何打造你的独特观点-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR 《隐性逻辑》]]></title>
      <url>http://mei6.site/2017/11/14/Reading-%E9%9A%90%E6%80%A7%E9%80%BB%E8%BE%91/</url>
      <content type="html"><![CDATA[<p>打卡，书里面讲的内容和方法不是特别的深入，收效没有预期那么大</p>
<a id="more"></a>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E3%80%8A%E9%9A%90%E6%80%A7%E9%80%BB%E8%BE%91%EF%BC%9A%E6%95%99%E4%BD%A0%E5%BF%AB%E9%80%9F%E5%88%87%E6%8D%A2%E6%80%9D%E8%80%83%E6%96%B9%E5%BC%8F%E3%80%8B.jpg" alt="《隐性逻辑：教你快速切换思考方式》"></p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E9%9A%90%E6%80%A7%E9%80%BB%E8%BE%91-MindMapping.jpeg" alt="隐性逻辑-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR 《结构性思维》]]></title>
      <url>http://mei6.site/2017/11/13/Reading-%E7%BB%93%E6%9E%84%E6%80%A7%E6%80%9D%E7%BB%B4/</url>
      <content type="html"><![CDATA[<p>打卡</p>
<a id="more"></a>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E3%80%8A%E7%BB%93%E6%9E%84%E6%80%A7%E6%80%9D%E7%BB%B4%E3%80%8B.jpg" alt="《结构性思维》"></p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E7%BB%93%E6%9E%84%E6%80%A7%E6%80%9D%E7%BB%B4-MindMapping.jpeg" alt="结构性思维-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR《如何阅读一本书》]]></title>
      <url>http://mei6.site/2017/11/12/Reading-%E5%A6%82%E4%BD%95%E9%98%85%E8%AF%BB%E4%B8%80%E6%9C%AC%E4%B9%A6/</url>
      <content type="html"><![CDATA[<p>打卡</p>
<a id="more"></a>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E3%80%8A%E5%A6%82%E4%BD%95%E9%98%85%E8%AF%BB%E4%B8%80%E6%9C%AC%E4%B9%A6%E3%80%8B.jpg" alt="《如何阅读一本书》"></p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E5%A6%82%E4%BD%95%E9%98%85%E8%AF%BB%E4%B8%80%E6%9C%AC%E4%B9%A6-MindMapping.jpeg" alt="如何阅读一本书-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR 主题阅读-快速阅读]]></title>
      <url>http://mei6.site/2017/11/12/Reading-%E4%B8%BB%E9%A2%98-%E5%BF%AB%E9%80%9F%E9%98%85%E8%AF%BB/</url>
      <content type="html"><![CDATA[<p>打卡，主题阅读第一弹</p>
<a id="more"></a>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E4%B8%BB%E9%A2%98-%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E9%98%85%E8%AF%BB-MindMapping.jpg" alt="主题-如何快速阅读-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR《本田健的快乐致富圣经》]]></title>
      <url>http://mei6.site/2017/11/11/Reading-%E6%9C%AC%E7%94%B0%E5%81%A5%E7%9A%84%E5%BF%AB%E4%B9%90%E8%87%B4%E5%AF%8C%E5%9C%A3%E7%BB%8F/</url>
      <content type="html"><![CDATA[<p>打卡</p>
<a id="more"></a>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E3%80%8A%E6%9C%AC%E7%94%B0%E5%81%A5%E7%9A%84%E5%BF%AB%E4%B9%90%E8%87%B4%E5%AF%8C%E5%9C%A3%E7%BB%8F%E3%80%8B.jpg" alt="《本田健的快乐致富圣经》"></p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E6%9C%AC%E7%94%B0%E5%81%A5%E7%9A%84%E5%BF%AB%E4%B9%90%E8%87%B4%E5%AF%8C%E5%9C%A3%E7%BB%8F-MindMapping.jpeg" alt="本田健的快乐致富圣经-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR《用数据讲故事》]]></title>
      <url>http://mei6.site/2017/11/09/Reading-%E7%94%A8%E6%95%B0%E6%8D%AE%E8%AE%B2%E6%95%85%E4%BA%8B/</url>
      <content type="html"><![CDATA[<p>打卡</p>
<a id="more"></a>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E7%94%A8%E6%95%B0%E6%8D%AE%E8%AE%B2%E6%95%85%E4%BA%8B.jpg" alt="《用数据讲故事》"></p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E7%94%A8%E6%95%B0%E6%8D%AE%E8%AE%B2%E6%95%85%E4%BA%8B-MindMapping.jpg" alt="用数据讲故事-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR《神奇的眼脑直映阅读法》]]></title>
      <url>http://mei6.site/2017/11/07/Reading-%E7%A5%9E%E5%A5%87%E7%9A%84%E7%9C%BC%E8%84%91%E7%9B%B4%E6%98%A0%E9%98%85%E8%AF%BB%E6%B3%95/</url>
      <content type="html"><![CDATA[<p>打卡，同学推荐，重点关注操作方法，取其精华</p>
<a id="more"></a>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E7%A5%9E%E5%A5%87%E7%9A%84%E7%9C%BC%E8%84%91%E7%9B%B4%E6%98%A0%E9%98%85%E8%AF%BB%E6%B3%95.jpg" alt="《神奇的眼脑直映阅读法》"></p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E7%A5%9E%E5%A5%87%E7%9A%84%E7%9C%BC%E8%84%91%E7%9B%B4%E6%98%A0%E9%98%85%E8%AF%BB%E6%B3%95-MindMapping.jpg" alt="神奇的眼脑直映阅读法-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR《大数据可视化-重构智慧社会》]]></title>
      <url>http://mei6.site/2017/11/05/Reading-%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96-%E9%87%8D%E6%9E%84%E6%99%BA%E6%85%A7%E7%A4%BE%E4%BC%9A/</url>
      <content type="html"><![CDATA[<p>打卡</p>
<a id="more"></a>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96-%E9%87%8D%E6%9E%84%E6%99%BA%E6%85%A7%E7%A4%BE%E4%BC%9A.jpg" alt="《大数据可视化-重构智慧社会》"></p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96-%E9%87%8D%E6%9E%84%E6%99%BA%E6%85%A7%E7%A4%BE%E4%BC%9A-MindMapping.jpg" alt="大数据可视化-重构智慧社会-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR《千万别说你懂买房》]]></title>
      <url>http://mei6.site/2017/11/02/Reading-%E5%8D%83%E4%B8%87%E5%88%AB%E8%AF%B4%E4%BD%A0%E6%87%82%E4%B9%B0%E6%88%BF/</url>
      <content type="html"><![CDATA[<p>打卡，看书的速度越来越慢，总想都看完，不能落下关键内容，万一遇上事儿能用到呢… 我的目的目的目的…</p>
<a id="more"></a>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E5%8D%83%E4%B8%87%E5%88%AB%E8%AF%B4%E4%BD%A0%E6%87%82%E4%B9%B0%E6%88%BF.jpg" alt="《千万别说你懂买房》"></p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E5%8D%83%E4%B8%87%E5%88%AB%E8%AF%B4%E4%BD%A0%E6%87%82%E4%B9%B0%E6%88%BF-MindMapping.jpg" alt="千万别说你懂买房-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR《视觉思维》]]></title>
      <url>http://mei6.site/2017/11/01/Reading-%E8%A7%86%E8%A7%89%E6%80%9D%E7%BB%B4/</url>
      <content type="html"><![CDATA[<p>打卡，补昨天的，还在输液… 延迟了一天 ​​​​</p>
<a id="more"></a>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E8%A7%86%E8%A7%89%E6%80%9D%E7%BB%B4.jpg" alt="《视觉思维》"></p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E8%A7%86%E8%A7%89%E6%80%9D%E7%BB%B4-MindMapping.jpg" alt="视觉思维-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PR《深度工作》]]></title>
      <url>http://mei6.site/2017/10/31/Reading-%E6%B7%B1%E5%BA%A6%E5%B7%A5%E4%BD%9C/</url>
      <content type="html"><![CDATA[<p>PhotoReading 《深度工作》</p>
<a id="more"></a>
<p>PR 的第一本书，练习的开始，坚持练习，掌握技巧。</p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E6%B7%B1%E5%BA%A6%E5%B7%A5%E4%BD%9C.jpg" alt="《深度工作》"></p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/%E6%B7%B1%E5%BA%A6%E5%B7%A5%E4%BD%9C-mindmapping.jpg" alt="深度工作-MindMapping"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[今年读的几本书]]></title>
      <url>http://mei6.site/2016/11/15/reading-list-2016/</url>
      <content type="html"><![CDATA[<p>列一下今年读书的书单</p>
<a id="more"></a>
<p>《Spring Boot 实战》
《今天你真好看》
《把时间当朋友》</p>
<p>《Getting.Started.with.Google.Guava》
<img src="http://ogjeb66bz.bkt.clouddn.com/14789679847753.jpg" alt=""></p>
<p><a href="http://item.jd.com/11891116.html?jd_pop=4df0baf4-fc36-449a-a976-cbf7f686eae6&amp;abt=3" target="_blank" rel="noopener">《领域驱动设计模式、原理与实践》</a>
<img src="http://ogjeb66bz.bkt.clouddn.com/14791741377179.jpg" alt=""></p>
<p><a href="http://item.jd.com/11423256.html" target="_blank" rel="noopener">《实现领域驱动设计 Implementing Domain-Driven Design》</a>
<img src="http://ogjeb66bz.bkt.clouddn.com/14791744596391.jpg" alt=""></p>
<p>《Designing Great Web APIs》
<img src="http://ogjeb66bz.bkt.clouddn.com/14791751905320.jpg" alt=""></p>
<p><a href="http://item.jd.com/11479919.html" target="_blank" rel="noopener">RESTful Web APIs中文版</a>
<img src="http://ogjeb66bz.bkt.clouddn.com/14791753986887.jpg" alt=""></p>
<p>《Microservice Architecture》</p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/14791739548164.jpg" alt=""></p>
<p><a href="http://item.jd.com/11917800.html" target="_blank" rel="noopener">《微服务设计》</a>
<img src="http://ogjeb66bz.bkt.clouddn.com/14791745415040.jpg" alt=""></p>
<p><a href="http://item.jd.com/11955634.html" target="_blank" rel="noopener">Learning ELK Stack 中文版</a>
<img src="http://ogjeb66bz.bkt.clouddn.com/14791746788174.jpg" alt=""></p>
<p><a href="http://item.jd.com/11940558.html" target="_blank" rel="noopener">SpringBoot揭秘：快速构建微服务体系</a> 不推荐</p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/14791748735709.jpg" alt=""></p>
<p><a href="http://item.jd.com/11236743.html" target="_blank" rel="noopener">淘宝技术这十年</a></p>
<p><a href="http://item.jd.com/11826753.html" target="_blank" rel="noopener">微服务架构与实践</a> 不推荐
<img src="http://ogjeb66bz.bkt.clouddn.com/14791749835465.jpg" alt=""></p>
<p><a href="http://item.jd.com/11324152.html" target="_blank" rel="noopener">Java应用架构设计：模块化模式与OSGi</a>
<img src="http://ogjeb66bz.bkt.clouddn.com/14791750148994.jpg" alt=""></p>
<hr>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87257256-1', 'auto');
  ga('send', 'pageview');

</script>
<script>
(function(){
    var bp = document.createElement('script');
    bp.src = '//push.zhanzhang.baidu.com/push.js';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Gitpage 构建失败处理]]></title>
      <url>http://mei6.site/2016/11/15/gitpage-build-failed/</url>
      <content type="html"><![CDATA[<!-- abstract -->
<p>今天在发布博客到GitPage的时候，收到一封构建失败的邮件，记录一下处理过程。</p>
<a id="more"></a>
<!-- 开始正文 -->
<p>不知道为了什么，可能是hexo生成博客的时候除了什么问题，发布到GitPage，构建失败了，可心的Github还发了封邮件，通知了我。</p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/14791454128407.jpg" alt=""></p>
<p>我还一直在那儿刷刷刷页面，怎么都刷不出来更新。</p>
<p>登录到Github，看到新提交的文件都在，说明提交过程没问题。</p>
<p>看看构建博客脚本的输出</p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/14791451852328.jpg" alt=""></p>
<p>代码明明都在，pull了一下也不好使，清空本地git库文件，保留.git文件夹。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git add *</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">'remove all'</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push</span></span><br></pre></td></tr></table></figure>
<p>然后重新执行构建hexo的脚本，发布成功。看来重启作为网管必杀技之首是有道理的，放之四海而皆准。</p>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87257256-1', 'auto');
  ga('send', 'pageview');

</script>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[在项目中使用Docker]]></title>
      <url>http://mei6.site/2016/11/14/develop-in-docker/</url>
      <content type="html"><![CDATA[<p>在一个基本的java应用开发过程中，如何将docker应用到各个环节？</p>
<p>传统流程，没有Docker参与：</p>
<ol>
<li>在开发之前，需要先搭建开发的框架，share到Github上，创建一个或多个git repository。</li>
<li>开发者从Github上clone框架代码到本地的开发环境，编写功能代码。</li>
<li>功能代码开发完成，并通过单元测试后，提交代码到Github上</li>
<li>构建代码，产生可以部署的jar或者war文件。</li>
<li>发布到应用服务器，如果是Web应用会发布到tomcat，如果是daemon或者jar应用，发布到服务器并执行一系列动作。</li>
<li>程序开始工作，提供服务。</li>
</ol>
<p>上面的步骤很简单，也是最最基本的开发流程，尽管不同团队使用的工具有所不同，这些流程都是不可避免的。</p>
<p>有了Docker之后，这些工作该怎么搞？先来梳理一下应用开发的各个基本要素：</p>
<ol>
<li>Github - 万物的基础，代码，放到Github里做版本控制和存储</li>
<li>DB - 持久化数据的数据库</li>
<li>Maven - 通过maven将代码构建成适当的形态，jar或者war</li>
<li>Nexus - 管理maven构建的地方</li>
<li>Tomcat - Web应用服务器，部署web应用</li>
<li>Jenkins - 自动化更新代码、构建并发布，持续集成</li>
<li>ELK - 日志处理</li>
<li>MQ - 消息队列</li>
<li>Docker - 存放各个要素的容器</li>
<li>物理服务器</li>
</ol>
<hr>
<p>本地的开发，单元测试，代码提交与docker无关。其他的需要哪些docker呢？</p>
<p><strong>Nexus</strong></p>
<p>从构建开始，自从有了Maven，再也不用通过Eclipse、Intellij打包了，写好pom，maven install一下，包就放到target下面了。项目分了多模块，就会有多个包，包之间也会或多或少产生依赖或者被依赖的关系。私有的代码构建，就用到了Nexus，把包发布到Nexus的私有库里面，maven构建依赖的时候就能找到项目内的模块了。当然Nexus不仅仅如此，其他功能不多说了。</p>
<p>在自己的服务上安装Nexus的Server，通过maven配置文件settings里配置使用的Nexus地址。现在需要将Nexus放到docker的容器里。</p>
<p>好，第一个docker实例，起个名字交<code>docker-nexus</code>吧。</p>
<p><a href="">在Mac上安装Docker Nexus</a></p>
<p><strong>Tomcat</strong></p>
<p>Web应用发布到Web应用服务器，应用才能跑起来，才能访问到应用提供的服务。Web应用服务器也有很多，Resin、Jetty、Tomcat等等，三脚猫Tomcat用的最多，也需要在物理服务器上安装一个Tomcat。</p>
<p>第二个docker实例，<code>docker-tomcat</code>。</p>
<p><strong>DB</strong></p>
<p>拥有有持久化数据的应用能提供更丰富的服务，<code>docker-DB</code>。</p>
<p><strong>Jenkins</strong></p>
<p>不想重复手工劳动，让Jenkins来做，<code>docker-jenkins</code>。</p>
<p><strong>ELK</strong></p>
<p>日志太多，每次都要ssh到服务器再tail -f logfile？ELK可以更简单，也可以更强大，<code>docker-Elastic</code>。</p>
<p><strong>MQ</strong></p>
<p><code>docker-mq</code></p>
<p>暂时这5个docker基本可以满足需求了。物理服务器作为docker的宿主，需要几个看情况。</p>
<p>看情况，信息量好大。</p>
<hr>
<p>假设开发的应用每天几千次访问，几千条数据，只有一台服务器，ok，把上面的5个docker都放到这台服务器上，设置不同的访问端口：</p>
<ul>
<li>Nexus - 8081</li>
<li>Tomcat - 8080</li>
<li>DB - 3306</li>
<li>Jenkins - 9090</li>
<li>Kibana - 10080</li>
<li>MQ - 8161</li>
</ul>
<p>好，问题来了，开发环境怎么办？测试环境怎么办？生产环境呢？</p>
<p>方案一：
在开发本地先安装配置好docker，测试通过再放到服务器上。假如是一个人的项目，应该没问题，两个人以上怎么办？</p>
<p>方案二：
在测试环境安装配置docker，开发环境、生产环境pull下来，开发过程需要调整再push回测试环境，貌似可以。</p>
<p>方案三：
创建docker私有库，本地配置好docker实例，通过Jenkins构建、发布docker到各个环境，通过Jenkins来做持续集成。</p>
<p>接着一步一步来，使用Maven构建java代码，Maven负责管理依赖，Maven会负责下载依赖的包，如果应用栈中有内部依赖，Maven还要通过指定的库来加载内部的构建包。</p>
<p>这里有两个问题，第一，Maven从远程仓库加载依赖的时候，由于远程仓库不在本地，加载速度通常会比较慢，第二，内部的构建物由于安全问题不能直接发布到远程仓库。为了更高效的处理构建问题，可以借助nexus来帮助我们处理。</p>
<p>可以直接本地run一个docker镜像，我们选择使用Dockerfile方式来构建容器。这里有一个基本原则，不要使用SSH管理容器。</p>
<p>从Docker Hub上找到官方提供的Nexus，下载Dockerfile文件到本地，使用latest标签指定的版本：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"># Copyright (c) 2014-present Sonatype, Inc.</span><br><span class="line">#</span><br><span class="line"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span><br><span class="line"># you may not use this file except in compliance with the License.</span><br><span class="line"># You may obtain a copy of the License at</span><br><span class="line">#</span><br><span class="line">#      http://www.apache.org/licenses/LICENSE-2.0</span><br><span class="line">#</span><br><span class="line"># Unless required by applicable law or agreed to in writing, software</span><br><span class="line"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span><br><span class="line"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><br><span class="line"># See the License for the specific language governing permissions and</span><br><span class="line"># limitations under the License.</span><br><span class="line"></span><br><span class="line">FROM       centos:centos7</span><br><span class="line">MAINTAINER Sonatype &lt;cloud-ops@sonatype.com&gt;</span><br><span class="line">LABEL vendor=Sonatype \</span><br><span class="line">  com.sonatype.license=&quot;Apache License, Version 2.0&quot; \</span><br><span class="line">  com.sonatype.name=&quot;Nexus Repository Manager OSS base image&quot;</span><br><span class="line"></span><br><span class="line">ENV SONATYPE_WORK /sonatype-work</span><br><span class="line">ENV NEXUS_VERSION 2.14.1-01</span><br><span class="line"></span><br><span class="line">ENV JAVA_HOME /opt/java</span><br><span class="line">ENV JAVA_VERSION_MAJOR 8</span><br><span class="line">ENV JAVA_VERSION_MINOR 102</span><br><span class="line">ENV JAVA_VERSION_BUILD 14</span><br><span class="line"></span><br><span class="line">RUN yum install -y \</span><br><span class="line">  curl tar createrepo \</span><br><span class="line">  &amp;&amp; yum clean all</span><br><span class="line"></span><br><span class="line"># install Oracle JRE</span><br><span class="line">RUN mkdir -p /opt \</span><br><span class="line">  &amp;&amp; curl --fail --silent --location --retry 3 \</span><br><span class="line">  --header &quot;Cookie: oraclelicense=accept-securebackup-cookie; &quot; \</span><br><span class="line">  http://download.oracle.com/otn-pub/java/jdk/$&#123;JAVA_VERSION_MAJOR&#125;u$&#123;JAVA_VERSION_MINOR&#125;-b$&#123;JAVA_VERSION_BUILD&#125;/server-jre-$&#123;JAVA_VERSION_MAJOR&#125;u$&#123;JAVA_VERSION_MINOR&#125;-linux-x64.tar.gz \</span><br><span class="line">  | gunzip \</span><br><span class="line">  | tar -x -C /opt \</span><br><span class="line">  &amp;&amp; ln -s /opt/jdk1.$&#123;JAVA_VERSION_MAJOR&#125;.0_$&#123;JAVA_VERSION_MINOR&#125; $&#123;JAVA_HOME&#125;</span><br><span class="line"></span><br><span class="line">RUN mkdir -p /opt/sonatype/nexus \</span><br><span class="line">  &amp;&amp; curl --fail --silent --location --retry 3 \</span><br><span class="line">    https://download.sonatype.com/nexus/oss/nexus-$&#123;NEXUS_VERSION&#125;-bundle.tar.gz \</span><br><span class="line">  | gunzip \</span><br><span class="line">  | tar x -C /tmp nexus-$&#123;NEXUS_VERSION&#125; \</span><br><span class="line">  &amp;&amp; mv /tmp/nexus-$&#123;NEXUS_VERSION&#125;/* /opt/sonatype/nexus/ \</span><br><span class="line">  &amp;&amp; rm -rf /tmp/nexus-$&#123;NEXUS_VERSION&#125;</span><br><span class="line"></span><br><span class="line">RUN useradd -r -u 200 -m -c &quot;nexus role account&quot; -d $&#123;SONATYPE_WORK&#125; -s /bin/false nexus</span><br><span class="line"></span><br><span class="line">VOLUME $&#123;SONATYPE_WORK&#125;</span><br><span class="line"></span><br><span class="line">EXPOSE 8081</span><br><span class="line">WORKDIR /opt/sonatype/nexus</span><br><span class="line">USER nexus</span><br><span class="line">ENV CONTEXT_PATH /nexus</span><br><span class="line">ENV MAX_HEAP 768m</span><br><span class="line">ENV MIN_HEAP 256m</span><br><span class="line">ENV JAVA_OPTS -server -Djava.net.preferIPv4Stack=true</span><br><span class="line">ENV LAUNCHER_CONF ./conf/jetty.xml ./conf/jetty-requestlog.xml</span><br><span class="line">CMD $&#123;JAVA_HOME&#125;/bin/java \</span><br><span class="line">  -Dnexus-work=$&#123;SONATYPE_WORK&#125; -Dnexus-webapp-context-path=$&#123;CONTEXT_PATH&#125; \</span><br><span class="line">  -Xms$&#123;MIN_HEAP&#125; -Xmx$&#123;MAX_HEAP&#125; \</span><br><span class="line">  -cp &apos;conf/:lib/*&apos; \</span><br><span class="line">  $&#123;JAVA_OPTS&#125; \</span><br><span class="line">  org.sonatype.nexus.bootstrap.Launcher $&#123;LAUNCHER_CONF&#125;</span><br></pre></td></tr></table></figure>
<p>上面的Dockerfile文件做了几件事情：</p>
<ol>
<li>以centos 7为基础镜像</li>
<li>声明了维护者和版权信息</li>
<li>指定环境变量</li>
<li>安装JRE</li>
<li>下载nexus</li>
<li>增加nexus用户</li>
<li>指定卷SONATYPE_WORK</li>
<li>开放8081端口</li>
<li>声明工作目录、用nexus用户登录</li>
<li>启动nexus的命令</li>
</ol>
<p>来构建一下，通过Docker Hub上提供的标准构建方式<a href="https://hub.docker.com/r/sonatype/nexus/" target="_blank" rel="noopener">https://hub.docker.com/r/sonatype/nexus/</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">To build, copy the Dockerfile and <span class="keyword">do</span> the build:</span><br><span class="line">$ docker build --rm=<span class="literal">true</span> --tag=sonatype/nexus .</span><br><span class="line"></span><br><span class="line">To run (<span class="keyword">if</span> port 8081 is open on your host):</span><br><span class="line">$ docker run -d -p 8081:8081 --name yt-nexus sonatype/nexus:oss</span><br><span class="line"></span><br><span class="line">To determine the port that the container is listening on:</span><br><span class="line">$ docker ps -l</span><br><span class="line"></span><br><span class="line">To <span class="built_in">test</span>:</span><br><span class="line">$ curl http://localhost:8081/nexus/service/<span class="built_in">local</span>/status</span><br><span class="line"></span><br><span class="line">```	</span><br><span class="line"></span><br><span class="line">![](http://oga9qt1do.bkt.clouddn.com/14798852039955.jpg)</span><br><span class="line"></span><br><span class="line">访问刚创建的nexus：</span><br><span class="line"></span><br><span class="line">![](http://oga9qt1do.bkt.clouddn.com/14798863978537.jpg)</span><br><span class="line"></span><br><span class="line">接下来，我们就可以使用nexus作为Maven私服了，可以让nexus缓存远程index，存储我们需要的依赖包，上传本地私有的构建。但是，如果这些我们在都做完了，将nexus再发布到远程服务器时，nexus又被重新build一次，这样我们在nexus里面配置的数据就不见了（可以回头看build nexus镜像的Dockerfile，是一个完整的重新安装过程）。</span><br><span class="line"></span><br><span class="line">那么，nexus的数据要怎么管理？要保存在本地吗？还是保存在远程服务器（测试或生产环境）呢？</span><br><span class="line"></span><br><span class="line">不论保存在本地或者远程，意味着在远程服务器部署的时候，都要要保证本地与远程服务器数据的同步，并且发布的时候要将数据同时发布。那么就创建一个新的docker镜像来专门存储nexus的数据，作为数据卷挂载到nexus服务上，这样每次build nexus的时候只会build nexus服务本身，不会影响数据。停止并删除刚创建的nexus镜像，重新创建一次。</span><br><span class="line"></span><br><span class="line">```dash</span><br><span class="line">$ docker run -d --name yt-nexus-data sonatype/nexus <span class="built_in">echo</span> <span class="string">"data-only container for Nexus"</span></span><br><span class="line"></span><br><span class="line">$ docker run -d -p 8081:8081 --name yt-nexus --volumes-from yt-nexus-data sonatype/nexus:oss</span><br></pre></td></tr></table></figure>
<p>现在对nexus进行的配置数据都会</p>
<p>⁃</p>
<pre><code>参考
多看 - Docker容器月刊（2015年9月）- 持续集成案例学习：Docker、Java与Maven
多看 - Docker容器月刊（2015年10月）- 对容器中应用程序的配置和日志的认知
多看 - Docker容器月刊（2015年10月）- 不可变基础设施：拒绝SSH
</code></pre>
<p>Jenkins2.x提供的pipeline，简直就是为docker而生。</p>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87257256-1', 'auto');
  ga('send', 'pageview');

</script>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[创建Docker私有库]]></title>
      <url>http://mei6.site/2016/11/14/docker-registry/</url>
      <content type="html"><![CDATA[<p>Docker 私有库同样也是一个docker实例</p>
<p>下载私有库镜像</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker pull registry</span></span><br></pre></td></tr></table></figure>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/14791214165430.jpg" alt=""></p>
<p>创建实例并命名</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d -p 5000<span class="function">:5000</span> -v `<span class="keyword">pwd</span>`<span class="string">/data</span>:<span class="string">/var/lib/registry</span> <span class="params">--restart=always</span> <span class="params">--name</span> yt-registry registry</span><br></pre></td></tr></table></figure>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/14791374859076.jpg" alt=""></p>
<p>查看</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker p</span></span><br></pre></td></tr></table></figure>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/14791375201866.jpg" alt=""></p>
<p>ok，到这里私有库就创建完毕了。来测试一下，把nexus上传到私有库。
	⁃</p>
<pre><code>参考：
http://www.jianshu.com/p/00ac18fce367
http://www.cnblogs.com/52fhy/p/5998747.html

感谢以上文章作者
</code></pre>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87257256-1', 'auto');
  ga('send', 'pageview');

</script>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[在Mac上安装Docker Nexus]]></title>
      <url>http://mei6.site/2016/11/14/docker-nexus/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h2 id="安装nexus-docker"><a class="header-anchor" href="#安装nexus-docker"> </a>安装Nexus Docker</h2>
<p>配置Docker镜像加速：</p>
<p>灵雀加速：<a href="http://houchaohann.m.alauda.cn" target="_blank" rel="noopener">http://houchaohann.m.alauda.cn</a>
阿里云加速：<a href="https://3wky8dz8.mirror.aliyuncs.com" target="_blank" rel="noopener">https://3wky8dz8.mirror.aliyuncs.com</a></p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/14790953545706.jpg" alt=""></p>
<p>添加完成后要点击<code>Apply &amp; Restart</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker pull sonatype/nexus</span><br></pre></td></tr></table></figure>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/14790950831929.jpg" alt=""></p>
<p>启动容器，命名：</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker <span class="built_in">run</span> -d -p <span class="number">8081</span>:<span class="number">8081</span> <span class="comment">--name yt-nexus sonatype/nexus</span></span><br></pre></td></tr></table></figure>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/14790980839491.jpg" alt=""></p>
<p>查看docker
<img src="http://ogjeb66bz.bkt.clouddn.com/14790981521176.jpg" alt=""></p>
<p>访问：<a href="http://localhost:8081/nexus" target="_blank" rel="noopener">http://localhost:8081/nexus</a>
<img src="media/14791157540597.jpg" alt=""></p>
<p>安装完成，比下载nexus安装部署方便不少。</p>
<h2 id="配置nexus-修改管理员密码"><a class="header-anchor" href="#配置nexus-修改管理员密码"> </a>配置Nexus，修改管理员密码</h2>
<p>默认管理员账户：<code>admin</code>，密码: <code>admin123</code>。
<img src="media/14791157291333.jpg" alt=""></p>
<h2 id="上传docker实例到阿里云"><a class="header-anchor" href="#上传docker实例到阿里云"> </a>上传docker实例到阿里云</h2>
<h2 id="建私有库"><a class="header-anchor" href="#建私有库"> </a>建私有库</h2>
<p>[toc]</p>
<hr>
<pre><code>参考：
http://www.kennethyo.me/2016/09/01/untitled-1472722428873/

感谢以上文章作者
</code></pre>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87257256-1', 'auto');
  ga('send', 'pageview');

</script>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Guava Odds Ends]]></title>
      <url>http://mei6.site/2016/11/13/guava-Odds-Ends/</url>
      <content type="html"><![CDATA[<!-- 开始正文 -->
<p>目录</p>
<ol>
<li><a href="http://www.mei6.site/2016/11/12/PacktPub-Getting-Started-with-Google-Guava/" target="_blank" rel="noopener">Getting.Started.with.Google.Guava</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-util/" target="_blank" rel="noopener">Guava Utilities</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-function/" target="_blank" rel="noopener">Guava Function</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-collection/" target="_blank" rel="noopener">Guava Collection</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Concurrency/" target="_blank" rel="noopener">Guava Concurrency</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Cache/" target="_blank" rel="noopener">Guava Cache</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-EventBus/" target="_blank" rel="noopener">Guava EventBus</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Files/" target="_blank" rel="noopener">Guava Files</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Odds-Ends/" target="_blank" rel="noopener">Guava Odds Ends</a></li>
</ol>
<hr>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87257256-1', 'auto');
  ga('send', 'pageview');

</script>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Guava Files]]></title>
      <url>http://mei6.site/2016/11/13/guava-Files/</url>
      <content type="html"><![CDATA[<!-- 开始正文 -->
<p>目录</p>
<ol>
<li><a href="http://www.mei6.site/2016/11/12/PacktPub-Getting-Started-with-Google-Guava/" target="_blank" rel="noopener">Getting.Started.with.Google.Guava</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-util/" target="_blank" rel="noopener">Guava Utilities</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-function/" target="_blank" rel="noopener">Guava Function</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-collection/" target="_blank" rel="noopener">Guava Collection</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Concurrency/" target="_blank" rel="noopener">Guava Concurrency</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Cache/" target="_blank" rel="noopener">Guava Cache</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-EventBus/" target="_blank" rel="noopener">Guava EventBus</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Files/" target="_blank" rel="noopener">Guava Files</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Odds-Ends/" target="_blank" rel="noopener">Guava Odds Ends</a></li>
</ol>
<hr>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87257256-1', 'auto');
  ga('send', 'pageview');

</script>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Guava EventBus]]></title>
      <url>http://mei6.site/2016/11/13/guava-EventBus/</url>
      <content type="html"><![CDATA[<!-- 开始正文 -->
<p>目录</p>
<ol>
<li><a href="http://www.mei6.site/2016/11/12/PacktPub-Getting-Started-with-Google-Guava/" target="_blank" rel="noopener">Getting.Started.with.Google.Guava</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-util/" target="_blank" rel="noopener">Guava Utilities</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-function/" target="_blank" rel="noopener">Guava Function</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-collection/" target="_blank" rel="noopener">Guava Collection</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Concurrency/" target="_blank" rel="noopener">Guava Concurrency</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Cache/" target="_blank" rel="noopener">Guava Cache</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-EventBus/" target="_blank" rel="noopener">Guava EventBus</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Files/" target="_blank" rel="noopener">Guava Files</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Odds-Ends/" target="_blank" rel="noopener">Guava Odds Ends</a></li>
</ol>
<hr>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87257256-1', 'auto');
  ga('send', 'pageview');

</script>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Guava Cache]]></title>
      <url>http://mei6.site/2016/11/13/guava-Cache/</url>
      <content type="html"><![CDATA[<!-- 开始正文 -->
<p>目录</p>
<ol>
<li><a href="http://www.mei6.site/2016/11/12/PacktPub-Getting-Started-with-Google-Guava/" target="_blank" rel="noopener">Getting.Started.with.Google.Guava</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-util/" target="_blank" rel="noopener">Guava Utilities</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-function/" target="_blank" rel="noopener">Guava Function</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-collection/" target="_blank" rel="noopener">Guava Collection</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Concurrency/" target="_blank" rel="noopener">Guava Concurrency</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Cache/" target="_blank" rel="noopener">Guava Cache</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-EventBus/" target="_blank" rel="noopener">Guava EventBus</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Files/" target="_blank" rel="noopener">Guava Files</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Odds-Ends/" target="_blank" rel="noopener">Guava Odds Ends</a></li>
</ol>
<hr>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87257256-1', 'auto');
  ga('send', 'pageview');

</script>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Guava Concurrency]]></title>
      <url>http://mei6.site/2016/11/13/guava-Concurrency/</url>
      <content type="html"><![CDATA[<!-- 开始正文 -->
<p>目录</p>
<ol>
<li><a href="http://www.mei6.site/2016/11/12/PacktPub-Getting-Started-with-Google-Guava/" target="_blank" rel="noopener">Getting.Started.with.Google.Guava</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-util/" target="_blank" rel="noopener">Guava Utilities</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-function/" target="_blank" rel="noopener">Guava Function</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-collection/" target="_blank" rel="noopener">Guava Collection</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Concurrency/" target="_blank" rel="noopener">Guava Concurrency</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Cache/" target="_blank" rel="noopener">Guava Cache</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-EventBus/" target="_blank" rel="noopener">Guava EventBus</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Files/" target="_blank" rel="noopener">Guava Files</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Odds-Ends/" target="_blank" rel="noopener">Guava Odds Ends</a></li>
</ol>
<hr>
<h2 id="monitor"><a class="header-anchor" href="#monitor"> </a>Monitor</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MonitorSample</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAX_SIZE = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Monitor monitor = <span class="keyword">new</span> Monitor();</span><br><span class="line">    <span class="keyword">private</span> Monitor.Guard listBelowCapacity = <span class="keyword">new</span> Monitor.Guard(monitor) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSatisfied</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> (list.size() &lt; MAX_SIZE);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addToList</span><span class="params">(String item)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        monitor.enterWhen(listBelowCapacity);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            list.add(item);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            monitor.leave();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Monitor best practice</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (monitor.enterIf(guardCondition)) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        doWork();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        monitor.leave();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="listenablefuture"><a class="header-anchor" href="#listenablefuture"> </a>ListenableFuture</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ExecutorService executor = Executors.newCachedThreadPool();</span><br><span class="line">Future&lt;Integer&gt; future = executor.submit(<span class="keyword">new</span> Callable&lt;Integer&gt;()&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> service.getCount();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);<span class="comment">//Retrieve the value of computation</span>Integer count = future.get();</span><br></pre></td></tr></table></figure>
<h3 id="obtaining-a-listenablefuture-interface"><a class="header-anchor" href="#obtaining-a-listenablefuture-interface"> </a>Obtaining a ListenableFuture interface</h3>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87257256-1', 'auto');
  ga('send', 'pageview');

</script>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Guava Collection]]></title>
      <url>http://mei6.site/2016/11/13/guava-collection/</url>
      <content type="html"><![CDATA[<!-- 开始正文 -->
<p>目录</p>
<ol>
<li><a href="http://www.mei6.site/2016/11/12/PacktPub-Getting-Started-with-Google-Guava/" target="_blank" rel="noopener">Getting.Started.with.Google.Guava</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-util/" target="_blank" rel="noopener">Guava Utilities</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-function/" target="_blank" rel="noopener">Guava Function</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-collection/" target="_blank" rel="noopener">Guava Collection</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Concurrency/" target="_blank" rel="noopener">Guava Concurrency</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Cache/" target="_blank" rel="noopener">Guava Cache</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-EventBus/" target="_blank" rel="noopener">Guava EventBus</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Files/" target="_blank" rel="noopener">Guava Files</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Odds-Ends/" target="_blank" rel="noopener">Guava Odds Ends</a></li>
</ol>
<hr>
<h2 id="集合类工具"><a class="header-anchor" href="#集合类工具"> </a>集合类工具</h2>
<h3 id="fluentiterable"><a class="header-anchor" href="#fluentiterable"> </a>FluentIterable</h3>
<p>流式迭代器</p>
<h4 id="fluentiterable-flter"><a class="header-anchor" href="#fluentiterable-flter"> </a>FluentIterable.flter</h4>
<p>过滤集合中符合条件的元素，并使用<code>Iterables.contains</code>进行验证</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 代码位置：bbejeck.guava.chapter4.FluentIterablesTest</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Before</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    person1 = <span class="keyword">new</span> Person(<span class="string">"Wilma"</span>, <span class="string">"Flintstone"</span>, <span class="number">30</span>, <span class="string">"F"</span>);</span><br><span class="line">    person2 = <span class="keyword">new</span> Person(<span class="string">"Fred"</span>, <span class="string">"Flintstone"</span>, <span class="number">32</span>, <span class="string">"M"</span>);</span><br><span class="line">    person3 = <span class="keyword">new</span> Person(<span class="string">"Betty"</span>, <span class="string">"Rubble"</span>, <span class="number">31</span>, <span class="string">"F"</span>);</span><br><span class="line">    person4 = <span class="keyword">new</span> Person(<span class="string">"Barney"</span>, <span class="string">"Rubble"</span>, <span class="number">33</span>, <span class="string">"M"</span>);</span><br><span class="line">    personList = Lists.newArrayList(person1, person2, person3, person4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFilter</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    Iterable&lt;Person&gt; personsFilteredByAge = FluentIterable.from(personList).filter(<span class="keyword">new</span> Predicate&lt;Person&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">apply</span><span class="params">(Person input)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> input.getAge() &gt; <span class="number">31</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    assertThat(Iterables.contains(personsFilteredByAge, person2), is(<span class="keyword">true</span>));</span><br><span class="line">    assertThat(Iterables.contains(personsFilteredByAge, person4), is(<span class="keyword">true</span>));</span><br><span class="line">    assertThat(Iterables.contains(personsFilteredByAge, person1), is(<span class="keyword">false</span>));</span><br><span class="line">    assertThat(Iterables.contains(personsFilteredByAge, person3), is(<span class="keyword">false</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="fluentiterable-transform"><a class="header-anchor" href="#fluentiterable-transform"> </a>FluentIterable.transform</h4>
<p>操作集合中的每个元素，可能会修改集合中的任意或者全部元素，并且用链式操作<code>toList()</code>返回新的集合。transform还提供了<code>toSet</code>, <code>toMap</code>, <code>toSortedList</code>, <code>toSortedSet</code>链式操作可供选择。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 代码位置：bbejeck.guava.chapter4.FluentIterablesTest</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testTransform</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    List&lt;String&gt; transformed = FluentIterable.from(personList).transform(<span class="keyword">new</span> Function&lt;Person, String&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">apply</span><span class="params">(Person input)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Joiner.on(<span class="string">'#'</span>).join(input.getLastName(), input.getFirstName(), input.getAge());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).toList();</span><br><span class="line">    assertThat(transformed.get(<span class="number">1</span>), is(<span class="string">"Flintstone#Fred#32"</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="lists"><a class="header-anchor" href="#lists"> </a>Lists</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Person&gt; personList = Lists.newArrayList();</span><br></pre></td></tr></table></figure>
<p>为List分片</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Person&gt; personList = Lists.newArrayList(person1,person2,person3,person4);</span><br><span class="line"></span><br><span class="line">List&lt;List&lt;Person&gt;&gt; subList = Lists.partition(personList,<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>结果为：<code>[[person1,person2],[person3, person4]]</code>，如果每个分片的大小为3，结果为：<code>[[person1,person2,person3],[person4]]</code>。</p>
<h3 id="sets"><a class="header-anchor" href="#sets"> </a>Sets</h3>
<h4 id="sets-difference"><a class="header-anchor" href="#sets-difference"> </a>Sets.difference</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;String&gt; s1 = Sets.newHashSet(<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>);</span><br><span class="line">Set&lt;String&gt; s2 = Sets.newHashSet(<span class="string">"2"</span>,<span class="string">"3"</span>,<span class="string">"4"</span>);</span><br><span class="line">Sets.difference(s1,s2);</span><br></pre></td></tr></table></figure>
<p>以上代码会返回一个SetView实例，带有一个元素<code>1</code>，表示第一个集合不存在于第二个集合中的元素。如果交换两个参数的位置，则会返回<code>4</code>.</p>
<h4 id="sets-symmetricdifference"><a class="header-anchor" href="#sets-symmetricdifference"> </a>Sets.symmetricDifference</h4>
<p>对称差异，返回两个集合中所有不同的元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;String&gt; s1 = Sets.newHashSet(<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>);</span><br><span class="line">Set&lt;String&gt; s2 = Sets.newHashSet(<span class="string">"2"</span>,<span class="string">"3"</span>,<span class="string">"4"</span>);</span><br><span class="line">Sets.SetView setView = Sets.symmetricDifference(s1,s2);</span><br><span class="line"><span class="comment">//Would return [1,4]</span></span><br></pre></td></tr></table></figure>
<h4 id="sets-intersection"><a class="header-anchor" href="#sets-intersection"> </a>Sets.intersection</h4>
<p>返回集合中交叉的元素，取集合的交集</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testIntersection</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Set&lt;String&gt; s1 = Sets.newHashSet(<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>);</span><br><span class="line">    Set&lt;String&gt; s2 = Sets.newHashSet(<span class="string">"3"</span>,<span class="string">"2"</span>,<span class="string">"4"</span>);</span><br><span class="line">    Sets.SetView&lt;String&gt; sv = Sets.intersection(s1,s2);</span><br><span class="line">    assertThat(sv.size()==<span class="number">2</span> &amp;&amp; sv.contains(<span class="string">"2"</span>) &amp;&amp; sv.contains(<span class="string">"3"</span>),is(<span class="keyword">true</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="sets-union"><a class="header-anchor" href="#sets-union"> </a>Sets.union</h4>
<p>取集合的并集</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testUnion</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Set&lt;String&gt; s1 = Sets.newHashSet(<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>);</span><br><span class="line">    Set&lt;String&gt; s2 = Sets.newHashSet(<span class="string">"3"</span>,<span class="string">"2"</span>,<span class="string">"4"</span>);</span><br><span class="line">    Sets.SetView&lt;String&gt; sv = Sets.union(s1,s2);</span><br><span class="line">    assertThat(sv.size()==<span class="number">4</span> &amp;&amp;</span><br><span class="line">            sv.contains(<span class="string">"2"</span>) &amp;&amp;</span><br><span class="line">            sv.contains(<span class="string">"3"</span>) &amp;&amp;</span><br><span class="line">            sv.contains(<span class="string">"4"</span>) &amp;&amp;</span><br><span class="line">            sv.contains(<span class="string">"1"</span>),is(<span class="keyword">true</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="maps"><a class="header-anchor" href="#maps"> </a>Maps</h3>
<p>通常创建Map的方式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Book&gt; books = someService.getBooks();</span><br><span class="line">Map&lt;String,Book&gt; bookMap = <span class="keyword">new</span> HashMap&lt;String,Book&gt;();</span><br><span class="line"><span class="keyword">for</span>(Book book : books)&#123;</span><br><span class="line">    bookMap.put(book.getIsbn(),book);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>也许还有更好的方式。</p>
<h4 id="maps-uniqueindex"><a class="header-anchor" href="#maps-uniqueindex"> </a>Maps.uniqueIndex</h4>
<p>通过Function匿名方法为元素设置key。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">uniqueIndexTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Map&lt;String,Book&gt; bookMap = Maps.uniqueIndex(books,<span class="keyword">new</span> Function&lt;Book, String&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">apply</span><span class="params">(Book book)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> book.getIsbn();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">   assertThat(bookMap.get(<span class="string">"ISBN123"</span>),is(book));</span><br><span class="line">   assertThat(bookMap.get(<span class="string">"ISBN456"</span>),is(book2));</span><br><span class="line">   assertThat(bookMap.get(<span class="string">"ISBN789"</span>),is(book3));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="maps-asmap"><a class="header-anchor" href="#maps-asmap"> </a>Maps.asMap</h4>
<h4 id="maps-tomap"><a class="header-anchor" href="#maps-tomap"> </a>Maps.toMap</h4>
<h4 id="arraylistmultimap"><a class="header-anchor" href="#arraylistmultimap"> </a>ArrayListMultimap</h4>
<p>用来创建value是ArrayList的Map，put时直接输入key和list的值，get时获得key对应的List。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testArrayListMultiMap</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ArrayListMultimap&lt;String,String&gt; multiMap = ArrayListMultimap.create();</span><br><span class="line">    multiMap.put(<span class="string">"Foo"</span>,<span class="string">"1"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Foo"</span>,<span class="string">"2"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Foo"</span>,<span class="string">"3"</span>);</span><br><span class="line">    List&lt;String&gt; expected = Lists.newArrayList(<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>);</span><br><span class="line">    assertEquals(multiMap.get(<span class="string">"Foo"</span>),expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testArrayListMultiMapSize</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ArrayListMultimap&lt;String,String&gt; multiMap = ArrayListMultimap.create();</span><br><span class="line">    multiMap.put(<span class="string">"Foo"</span>,<span class="string">"1"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Foo"</span>,<span class="string">"2"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Foo"</span>,<span class="string">"3"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Bar"</span>,<span class="string">"1"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Bar"</span>,<span class="string">"2"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Bar"</span>,<span class="string">"3"</span>);</span><br><span class="line">    Collection&lt;String&gt; expected = Lists.newArrayList(<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>,<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>);</span><br><span class="line">    assertThat(multiMap.size(),is(<span class="number">6</span>));</span><br><span class="line">    assertArrayEquals(multiMap.values().toArray(), expected.toArray());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testArrayListMultiMapSizeAsMap</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ArrayListMultimap&lt;String,String&gt; multiMap = ArrayListMultimap.create();</span><br><span class="line">    multiMap.put(<span class="string">"Foo"</span>,<span class="string">"1"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Foo"</span>,<span class="string">"2"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Foo"</span>,<span class="string">"3"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Bar"</span>,<span class="string">"1"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Bar"</span>,<span class="string">"2"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Bar"</span>,<span class="string">"3"</span>);</span><br><span class="line">    Map&lt;String,Collection&lt;String&gt;&gt; map = multiMap.asMap();</span><br><span class="line">    assertThat(map.size(),is(<span class="number">2</span>));</span><br><span class="line">    map.get(<span class="string">"Foo"</span>).remove(<span class="string">"3"</span>);</span><br><span class="line">    assertThat(multiMap.size(), is(<span class="number">5</span>));</span><br><span class="line">    multiMap.put(<span class="string">"Baz"</span>, <span class="string">"1"</span>);</span><br><span class="line">    assertThat(map.size(), is(<span class="number">3</span>));</span><br><span class="line">    map.get(<span class="string">"Foo"</span>).add(<span class="string">"4"</span>);</span><br><span class="line">    assertThat(multiMap.size(), is(<span class="number">7</span>));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testArrayListMultimapSameKeyValue</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ArrayListMultimap&lt;String,String&gt; multiMap = ArrayListMultimap.create();</span><br><span class="line">    multiMap.put(<span class="string">"Bar"</span>,<span class="string">"1"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Bar"</span>,<span class="string">"3"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Bar"</span>,<span class="string">"2"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Bar"</span>,<span class="string">"3"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Bar"</span>,<span class="string">"3"</span>);</span><br><span class="line">    List&lt;String&gt; expected = Lists.newArrayList(<span class="string">"1"</span>,<span class="string">"3"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>,<span class="string">"3"</span>);</span><br><span class="line">    assertEquals(multiMap.get(<span class="string">"Bar"</span>),expected);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>直接操作map向map的value，一个ArrayList中添加元素，通过asMap方法删除元素。</p>
<p>asMap用法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String,Collection&lt;String&gt;&gt; map = multiMap.asMap();</span><br></pre></td></tr></table></figure>
<h4 id="hashmultimap"><a class="header-anchor" href="#hashmultimap"> </a>HashMultimap</h4>
<p>只保留唯一的键值对，去除重复的键值对。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testHashMultiMapSameKeyValue</span><span class="params">()</span></span>&#123;</span><br><span class="line">    HashMultimap&lt;String,String&gt; multiMap = HashMultimap.create();</span><br><span class="line">    multiMap.put(<span class="string">"Bar"</span>,<span class="string">"1"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Bar"</span>,<span class="string">"2"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Bar"</span>,<span class="string">"3"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Bar"</span>,<span class="string">"3"</span>);</span><br><span class="line">    multiMap.put(<span class="string">"Bar"</span>,<span class="string">"3"</span>);</span><br><span class="line">    assertThat(multiMap.size(),is(<span class="number">3</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="bimap"><a class="header-anchor" href="#bimap"> </a>BiMap</h3>
<p>value也是唯一的，BiMap会做类似将value
反转为key的操作，来保证value的唯一。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span>(expected = IllegalArgumentException.class)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testBiMapSameValueDifferentKey</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    BiMap&lt;String,String&gt; biMap = HashBiMap.create();</span><br><span class="line">    biMap.put(<span class="string">"1"</span>,<span class="string">"Tom"</span>);</span><br><span class="line">    biMap.put(<span class="string">"2"</span>,<span class="string">"Tom"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的代码向BiMap中添加了两个一样的值，将抛出IllegalArgumentException异常。</p>
<h4 id="bimap-forceput"><a class="header-anchor" href="#bimap-forceput"> </a>BiMap.forcePut</h4>
<p>使用BiMap.forcePut向BiMap中put不同key的相同值。旧值会被新值替代，只保留新值。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testBiMapForcePut</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    BiMap&lt;String,String&gt; biMap = HashBiMap.create();</span><br><span class="line">    biMap.put(<span class="string">"1"</span>,<span class="string">"Tom"</span>);</span><br><span class="line">    biMap.forcePut(<span class="string">"2"</span>,<span class="string">"Tom"</span>);</span><br><span class="line">    assertThat(biMap.containsKey(<span class="string">"1"</span>),is(<span class="keyword">false</span>));</span><br><span class="line">    assertThat(biMap.containsKey(<span class="string">"2"</span>),is(<span class="keyword">true</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>key为<code>2</code>的entry会替换掉key为<code>1</code>的entry，key为<code>1</code>的entry会被删除。</p>
<h4 id="bimap-inverse"><a class="header-anchor" href="#bimap-inverse"> </a>BiMap.inverse</h4>
<p>BiMap.inverse会将键值的位置互换，即原有value成为key，key成为value。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testBiMapInverse</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    BiMap&lt;String,String&gt; biMap = HashBiMap.create();</span><br><span class="line">    biMap.put(<span class="string">"1"</span>,<span class="string">"Tom"</span>);</span><br><span class="line">    biMap.put(<span class="string">"2"</span>,<span class="string">"Harry"</span>);</span><br><span class="line">    assertThat(biMap.get(<span class="string">"1"</span>),is(<span class="string">"Tom"</span>));</span><br><span class="line">    assertThat(biMap.get(<span class="string">"2"</span>),is(<span class="string">"Harry"</span>));</span><br><span class="line">    BiMap&lt;String,String&gt; inverseMap = biMap.inverse();</span><br><span class="line">    assertThat(inverseMap.get(<span class="string">"Tom"</span>),is(<span class="string">"1"</span>));</span><br><span class="line">    assertThat(inverseMap.get(<span class="string">"Harry"</span>),is(<span class="string">"2"</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="table"><a class="header-anchor" href="#table"> </a>Table</h3>
<p>多个map组成的map，Table是带有两个key的集合，key分别为row和column，这两个key确定唯一的值。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> HashBasedTable&lt;Integer,Integer,String&gt; table = HashBasedTable.create();</span><br><span class="line"></span><br><span class="line"><span class="meta">@Before</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUp</span><span class="params">()</span></span>&#123;</span><br><span class="line">    table.put(<span class="number">1</span>,<span class="number">1</span>,<span class="string">"Rook"</span>);</span><br><span class="line">    table.put(<span class="number">1</span>,<span class="number">2</span>,<span class="string">"Knight"</span>);</span><br><span class="line">    table.put(<span class="number">1</span>,<span class="number">3</span>,<span class="string">"Bishop"</span>);</span><br><span class="line">    table.put(<span class="number">2</span>,<span class="number">1</span>,<span class="string">"Lateral"</span>);</span><br><span class="line">    table.put(<span class="number">2</span>,<span class="number">2</span>,<span class="string">"L-Shape"</span>);</span><br><span class="line">    table.put(<span class="number">2</span>,<span class="number">3</span>,<span class="string">"Diagonal"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testHashBasedTablePut</span><span class="params">()</span></span>&#123;</span><br><span class="line">     assertThat(table.get(<span class="number">1</span>,<span class="number">2</span>),is(<span class="string">"Knight"</span>));</span><br><span class="line">     assertThat(table.get(<span class="number">5</span>,<span class="number">5</span>),is(nullValue()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>取值、判断是否存在、删除方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">boolean</span> contains11 = table.contains(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">boolean</span> containColumn2 = table.containsColumn(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">boolean</span> containsRow1 = table.containsRow(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">boolean</span> containsRook = table.containsValue(<span class="string">"Rook"</span>);</span><br><span class="line">table.remove(<span class="number">1</span>,<span class="number">3</span>);</span><br><span class="line">table.get(<span class="number">3</span>,<span class="number">4</span>);</span><br></pre></td></tr></table></figure>
<h4 id="table-views"><a class="header-anchor" href="#table-views"> </a>Table views</h4>
<p>通过row()、column()取整行或整列。</p>
<ul>
<li>取整行时，map的key为列名</li>
<li>取整列时，map的key为行号</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer,String&gt; columnMap = table.column(<span class="number">1</span>);</span><br><span class="line">Map&lt;Integer,String&gt; rowMap = table.row(<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<h4 id="arraytable"><a class="header-anchor" href="#arraytable"> </a>ArrayTable</h4>
<p>ArrayTable是由二维数组支持的表的实现。</p>
<h4 id="immutabletable"><a class="header-anchor" href="#immutabletable"> </a>ImmutableTable</h4>
<p>ImmutableTable创建后，元素不能被修改。</p>
<h4 id="treebasedtable"><a class="header-anchor" href="#treebasedtable"> </a>TreeBasedTable</h4>
<p>键值均为有序的。</p>
<h3 id="range"><a class="header-anchor" href="#range"> </a>Range</h3>
<p>表示范围的集合。</p>
<pre><code>open表示不包含，closed表示包含。
</code></pre>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testRangeOpenClosed</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Range&lt;Integer&gt; numberRange = Range.openClosed(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">    assertThat(numberRange.contains(<span class="number">5</span>), is(<span class="keyword">true</span>));</span><br><span class="line">    assertThat(numberRange.contains(<span class="number">10</span>), is(<span class="keyword">true</span>));</span><br><span class="line">    assertThat(numberRange.contains(<span class="number">1</span>), is(<span class="keyword">false</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方法：</p>
<ul>
<li>openClosed</li>
<li>closedOpen</li>
<li>greaterThan</li>
<li>atLeast</li>
<li>lessThan</li>
<li>atMost</li>
</ul>
<p>对象范围比较</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testPersonAgeRange</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Person person = <span class="keyword">new</span> Person(<span class="string">"Art"</span>, <span class="string">"Vandelay"</span>, <span class="number">37</span>, <span class="string">"M"</span>);</span><br><span class="line">    Person person1 = <span class="keyword">new</span> Person(<span class="string">"Johnny"</span>, <span class="string">"Quest"</span>, <span class="number">14</span>, <span class="string">"M"</span>);</span><br><span class="line">    Person person2 = <span class="keyword">new</span> Person(<span class="string">"Fred"</span>, <span class="string">"Flinstone"</span>, <span class="number">50</span>, <span class="string">"M"</span>);</span><br><span class="line">    Range&lt;Integer&gt; ageRange = Range.closed(<span class="number">35</span>, <span class="number">50</span>);</span><br><span class="line"></span><br><span class="line">    Function&lt;Person, Integer&gt; ageFunction = <span class="keyword">new</span> Function&lt;Person, Integer&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Integer <span class="title">apply</span><span class="params">(Person person)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> person.getAge();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    Predicate&lt;Person&gt; predicate = Predicates.compose(ageRange, ageFunction);</span><br><span class="line">    assertThat(predicate.apply(person), is(<span class="keyword">true</span>));</span><br><span class="line">    assertThat(predicate.apply(person1), is(<span class="keyword">false</span>));</span><br><span class="line">    assertThat(predicate.apply(person2), is(<span class="keyword">true</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Person的compareTo方法比较了所有的属性，需要通过Predicate来比较。</p>
<h3 id="immutable-collections"><a class="header-anchor" href="#immutable-collections"> </a>Immutable collections</h3>
<p>示例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MultiMap&lt;Integer,String&gt; map = <span class="keyword">new</span> ImmutableListMultimap.Builder&lt;Integer,String&gt;()</span><br><span class="line">.put(<span class="number">1</span>,<span class="string">"Foo"</span>)</span><br><span class="line">.putAll(<span class="number">2</span>,<span class="string">"Foo"</span>,<span class="string">"Bar"</span>,<span class="string">"Baz"</span>)</span><br><span class="line">.putAll(<span class="number">4</span>,<span class="string">"Huey"</span>,<span class="string">"Duey"</span>,<span class="string">"Luey"</span>)</span><br><span class="line">.put(<span class="number">3</span>,<span class="string">"Single"</span>).build();</span><br></pre></td></tr></table></figure>
<h3 id="ordering"><a class="header-anchor" href="#ordering"> </a>Ordering</h3>
<h4 id="greatestof"><a class="header-anchor" href="#greatestof"> </a>greatestOf</h4>
<p>从大到小排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Ordering&lt;Integer&gt; numberOrdering = <span class="keyword">new</span> Ordering&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer left, Integer right)</span> </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> left.compareTo(right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">private</span> CityByPopulation cityByPopulation = <span class="keyword">new</span> CityByPopulation();</span><br><span class="line"><span class="keyword">private</span> CityByRainfall cityByRainfall = <span class="keyword">new</span> CityByRainfall();</span><br><span class="line"><span class="keyword">private</span> City.Builder cityBuilder = <span class="keyword">new</span> City.Builder();</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testGetGreatestOf</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List&lt;Integer&gt; numbers = Lists.newArrayList(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">500000000</span>,<span class="number">19</span>,<span class="number">5</span>,<span class="number">100</span>,<span class="number">3000</span>);</span><br><span class="line">    List&lt;Integer&gt; top3 = numberOrdering.greatestOf(numbers,<span class="number">3</span>);</span><br><span class="line">    List&lt;Integer&gt; expected = Lists.newArrayList(<span class="number">500000000</span>,<span class="number">3000</span>,<span class="number">100</span>);</span><br><span class="line">    assertThat(expected,is(top3));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="leastof"><a class="header-anchor" href="#leastof"> </a>leastOf</h4>
<p>从小到大排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testGetLeastOf</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List&lt;Integer&gt; numbers = Lists.newArrayList(<span class="number">1</span>,<span class="number">500000000</span>,<span class="number">19</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">100</span>,<span class="number">3000</span>,<span class="number">2</span>);</span><br><span class="line">    List&lt;Integer&gt; bottom3 = numberOrdering.leastOf(numbers,<span class="number">3</span>);</span><br><span class="line">    List&lt;Integer&gt; expected = Lists.newArrayList(<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>);</span><br><span class="line">    assertThat(expected,is(bottom3));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="max-min"><a class="header-anchor" href="#max-min"> </a>max、min</h4>
<p>取最大最小值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testGetMax</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List&lt;Integer&gt; numbers = Lists.newArrayList(<span class="number">1</span>,<span class="number">500000000</span>,<span class="number">19</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">100</span>,<span class="number">3000</span>,<span class="number">2</span>);</span><br><span class="line">    assertThat(numberOrdering.max(numbers),is(<span class="number">500000000</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testGetMin</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List&lt;Integer&gt; numbers = Lists.newArrayList(<span class="number">10</span>,<span class="number">500000000</span>,<span class="number">19</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">100</span>,<span class="number">3000</span>,<span class="number">2</span>);</span><br><span class="line">    assertThat(numberOrdering.min(numbers),is(<span class="number">2</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ordering-from"><a class="header-anchor" href="#ordering-from"> </a>Ordering.from</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testReverseSort</span><span class="params">()</span></span>&#123;</span><br><span class="line">  City city1 = cityBuilder.population(<span class="number">100000</span>).build();</span><br><span class="line">  City city2 = cityBuilder.population(<span class="number">250000</span>).build();</span><br><span class="line">  City city3 = cityBuilder.population(<span class="number">350000</span>).build();</span><br><span class="line">  List&lt;City&gt; cities = Lists.newArrayList(city3,city2,city1);</span><br><span class="line">  Ordering&lt;City&gt; cityOrdering = Ordering.from(cityByPopulation);</span><br><span class="line">  Collections.sort(cities,cityOrdering);</span><br><span class="line">  <span class="comment">//In natural sorting order</span></span><br><span class="line">  assertThat(cities.get(<span class="number">0</span>),is(city1));</span><br><span class="line">  Collections.sort(cities,cityOrdering.reverse());</span><br><span class="line">  assertThat(cities.get(<span class="number">0</span>),is(city3));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="nullsfirst-nullslast"><a class="header-anchor" href="#nullsfirst-nullslast"> </a>nullsFirst、nullsLast</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSortNullFirst</span><span class="params">()</span></span>&#123;</span><br><span class="line">    City city1 = cityBuilder.population(<span class="number">100000</span>).averageRainfall(<span class="number">55.0</span>).build();</span><br><span class="line">    City city2 = cityBuilder.population(<span class="number">100000</span>).averageRainfall(<span class="number">45.0</span>).build();</span><br><span class="line">    City city3 = cityBuilder.population(<span class="number">100000</span>).averageRainfall(<span class="number">33.8</span>).build();</span><br><span class="line">    List&lt;City&gt; cities = Lists.newArrayList(city1,city2,city3,<span class="keyword">null</span>);</span><br><span class="line">    Ordering&lt;City&gt; nullsFirstOrdering = Ordering.from(cityByPopulation).nullsFirst();</span><br><span class="line">    Collections.sort(cities,nullsFirstOrdering);</span><br><span class="line">    assertThat(cities.get(<span class="number">0</span>),is(nullValue()));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSortNullLast</span><span class="params">()</span></span>&#123;</span><br><span class="line">    City city1 = cityBuilder.population(<span class="number">100000</span>).averageRainfall(<span class="number">55.0</span>).build();</span><br><span class="line">    City city2 = cityBuilder.population(<span class="number">100000</span>).averageRainfall(<span class="number">45.0</span>).build();</span><br><span class="line">    City city3 = cityBuilder.population(<span class="number">100000</span>).averageRainfall(<span class="number">33.8</span>).build();</span><br><span class="line">    List&lt;City&gt; cities = Lists.newArrayList(<span class="keyword">null</span>,city1,city2,city3);</span><br><span class="line">    Ordering&lt;City&gt; nullsLastOrdering = Ordering.from(cityByPopulation).nullsLast();</span><br><span class="line">    Collections.sort(cities,nullsLastOrdering);</span><br><span class="line">    assertThat(cities.get(<span class="number">3</span>),is(nullValue()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="compound"><a class="header-anchor" href="#compound"> </a>compound</h4>
<p>复合排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSecondarySort</span><span class="params">()</span></span>&#123;</span><br><span class="line">    City city1 = cityBuilder.population(<span class="number">100000</span>).averageRainfall(<span class="number">55.0</span>).build();</span><br><span class="line">    City city2 = cityBuilder.population(<span class="number">100000</span>).averageRainfall(<span class="number">45.0</span>).build();</span><br><span class="line">    City city3 = cityBuilder.population(<span class="number">100000</span>).averageRainfall(<span class="number">33.8</span>).build();</span><br><span class="line">    List&lt;City&gt; cities = Lists.newArrayList(city1,city2,city3);</span><br><span class="line">    Ordering&lt;City&gt; secondaryOrdering = Ordering.from(cityByPopulation).compound(cityByRainfall);</span><br><span class="line">    Collections.sort(cities,secondaryOrdering);</span><br><span class="line">    assertThat(cities.get(<span class="number">0</span>),is(city3));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87257256-1', 'auto');
  ga('send', 'pageview');

</script>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Guava Function]]></title>
      <url>http://mei6.site/2016/11/13/guava-function/</url>
      <content type="html"><![CDATA[<!-- 开始正文 -->
<p>目录</p>
<ol>
<li><a href="http://www.mei6.site/2016/11/12/PacktPub-Getting-Started-with-Google-Guava/" target="_blank" rel="noopener">Getting.Started.with.Google.Guava</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-util/" target="_blank" rel="noopener">Guava Utilities</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-function/" target="_blank" rel="noopener">Guava Function</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-collection/" target="_blank" rel="noopener">Guava Collection</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Concurrency/" target="_blank" rel="noopener">Guava Concurrency</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Cache/" target="_blank" rel="noopener">Guava Cache</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-EventBus/" target="_blank" rel="noopener">Guava EventBus</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Files/" target="_blank" rel="noopener">Guava Files</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Odds-Ends/" target="_blank" rel="noopener">Guava Odds Ends</a></li>
</ol>
<hr>
<h2 id="函数式编程"><a class="header-anchor" href="#函数式编程"> </a>函数式编程</h2>
<h3 id="function-接口"><a class="header-anchor" href="#function-接口"> </a>Function 接口</h3>
<p>Fuction接口只有两个方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Function</span>&lt;<span class="title">F</span>,<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">T <span class="title">apply</span><span class="params">(F input)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object object)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实现日期格式转换功能</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateFormatFunction</span> <span class="keyword">implements</span> <span class="title">Function</span>&lt;<span class="title">Date</span>,<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String dateFormat;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DateFormatFunction</span><span class="params">(String dateFormat)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.dateFormat = dateFormat;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">apply</span><span class="params">(Date input)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> SimpleDateFormat(dateFormat).format(input);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>简化写法，使用匿名类实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Function&lt;Date,String&gt; function = <span class="keyword">new</span> Function&lt;Date, String&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">apply</span><span class="params">( Date input)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span></span><br><span class="line">                SimpleDateFormat(<span class="string">"dd/mm/yyyy"</span>).format(input);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>上面只是举例如何实现Function接口，格式化日期有更简单的方法。</p>
<h3 id="functions-类"><a class="header-anchor" href="#functions-类"> </a>Functions 类</h3>
<p>主要方法：</p>
<ul>
<li>Functions.forMap</li>
<li>Functions.compose</li>
</ul>
<h3 id="predicate-接口"><a class="header-anchor" href="#predicate-接口"> </a>Predicate 接口</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Predicate</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">apply</span><span class="params">(T input)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object object)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="predicates-类"><a class="header-anchor" href="#predicates-类"> </a>Predicates 类</h3>
<ul>
<li>Predicates.and</li>
<li>Predicates.or</li>
<li>Predicates.not</li>
<li>Predicates.compose</li>
</ul>
<p>用来比较、过滤条件</p>
<h3 id="supplier-接口"><a class="header-anchor" href="#supplier-接口"> </a>Supplier 接口</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Supplier</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">T <span class="title">get</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>get方法返回泛型T的实例</p>
<h3 id="suppliers-类"><a class="header-anchor" href="#suppliers-类"> </a>Suppliers 类</h3>
<p>对象缓存的实现</p>
<ul>
<li>Suppliers.memoize</li>
<li>Suppliers.memoizeWithExpiration</li>
</ul>
<blockquote>
<p>以上参考<a href="http://www.cnblogs.com/renchunxiao/p/3674604.html" target="_blank" rel="noopener">使用Guava进行函数式编程</a>，内容翻译的很详细。</p>
</blockquote>
<hr>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87257256-1', 'auto');
  ga('send', 'pageview');

</script>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Guava Utilities]]></title>
      <url>http://mei6.site/2016/11/13/guava-util/</url>
      <content type="html"><![CDATA[<!-- 开始正文 -->
<p>目录</p>
<ol>
<li><a href="http://www.mei6.site/2016/11/12/PacktPub-Getting-Started-with-Google-Guava/" target="_blank" rel="noopener">Getting.Started.with.Google.Guava</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-util/" target="_blank" rel="noopener">Guava Utilities</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-function/" target="_blank" rel="noopener">Guava Function</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-collection/" target="_blank" rel="noopener">Guava Collection</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Concurrency/" target="_blank" rel="noopener">Guava Concurrency</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Cache/" target="_blank" rel="noopener">Guava Cache</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-EventBus/" target="_blank" rel="noopener">Guava EventBus</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Files/" target="_blank" rel="noopener">Guava Files</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Odds-Ends/" target="_blank" rel="noopener">Guava Odds Ends</a></li>
</ol>
<hr>
<h2 id="基本工具类"><a class="header-anchor" href="#基本工具类"> </a>基本工具类</h2>
<h3 id="joiner"><a class="header-anchor" href="#joiner"> </a>Joiner</h3>
<p>通常的字符串操作</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">buildString</span><span class="params">(List&lt;String&gt; stringList, String delimiter)</span></span>&#123;</span><br><span class="line">   StringBuilder builder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">   <span class="keyword">for</span> (String s : stringList) &#123;</span><br><span class="line">       <span class="keyword">if</span>(s !=<span class="keyword">null</span>)&#123;</span><br><span class="line">           builder.append(s).append(delimiter);</span><br><span class="line">       &#125; &#125;</span><br><span class="line">   builder.setLength(builder.length() - delimiter.length());</span><br><span class="line">   <span class="keyword">return</span> builder.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用Joiner操作，跳过空值：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Joiner.on(<span class="string">"|"</span>).skipNulls().join(stringList);</span><br></pre></td></tr></table></figure>
<p>替换空值：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Joiner.on(<span class="string">"|"</span>).useForNull(<span class="string">"no value"</span>).join(stringList);</span><br></pre></td></tr></table></figure>
<p>另外两个处理字符串的例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Joiner stringJoiner = Joiner.on(<span class="string">"|"</span>).skipNulls();</span><br><span class="line"><span class="comment">//the useForNull() method returns a new instance of the Joiner!</span></span><br><span class="line">stringJoiner.useForNull(<span class="string">"missing"</span>);</span><br><span class="line">stringJoiner.join(<span class="string">"foo"</span>,<span class="string">"bar"</span>,<span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">-------</span><br><span class="line"></span><br><span class="line">StringBuilder stringBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">Joiner joiner = Joiner.on(<span class="string">"|"</span>).skipNulls();</span><br><span class="line"><span class="comment">// returns the StringBuilder instance with the values foo,bar,baz appeneded with "|" delimiters</span></span><br><span class="line">joiner.appendTo(stringBuilder,<span class="string">"foo"</span>,<span class="string">"bar"</span>,<span class="string">"baz"</span>)</span><br></pre></td></tr></table></figure>
<p>Joiner不仅仅处理字符串，还能处理各种集合类型，调用对象的<code>toString</code>方法，append 集合到流：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FileWriter fileWriter = <span class="keyword">new</span> FileWriter(<span class="keyword">new</span> File(<span class="string">"path"</span>)):List&lt;Date&gt; dateList = getDates();</span><br><span class="line">Joiner joiner = Joiner.on(<span class="string">"#"</span>).useForNulls(<span class="string">" "</span>);<span class="comment">// returns the FileWriter instance with the values appended into it</span>joiner.appendTo(fileWriter,dateList);</span><br></pre></td></tr></table></figure>
<p>MapJoiner方法处理键值对类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mapJoiner = Joiner.on(<span class="string">"#"</span>).withKeyValueSeparator(<span class="string">"="</span>);</span><br></pre></td></tr></table></figure>
<h3 id="splitter"><a class="header-anchor" href="#splitter"> </a>Splitter</h3>
<p>用分隔符拆分字符串</p>
<p>不使用类库的方式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String testString = <span class="string">"Monday,Tuesday,,Thursday,Friday,,"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// parts is [Monday, Tuesday, , Thursday,Friday]</span></span><br><span class="line">String[] parts = testString.split(<span class="string">","</span>);</span><br></pre></td></tr></table></figure>
<p>Splitter，还支持正则表达式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Splitter.on(<span class="string">'|'</span>).split(<span class="string">"foo|bar|baz"</span>);Splitter splitter = Splitter.on(<span class="string">"\\d+"</span>);</span><br></pre></td></tr></table></figure>
<p>trim头尾的空格</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Splits on '|' and removes any leading or trailing whitespace</span></span><br><span class="line">Splitter splitter = Splitter.on(<span class="string">'|'</span>).trimResults();</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Splitter splitter = Splitter.on(<span class="string">'|'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Next call returns a new instance, does not modify the original!</span></span><br><span class="line"><span class="comment">// 返回新实例，不修改原始对象</span></span><br><span class="line">splitter.trimResults();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Result would still contain empty elements</span></span><br><span class="line">Iterable&lt;String&gt; parts = splitter.split(<span class="string">"1|2|3|||"</span>);</span><br></pre></td></tr></table></figure>
<p>MapSplitter</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MapSplitter is defined as an inner class of Splitter</span></span><br><span class="line">Splitter.MapSplitter mapSplitter = Splitter.on(<span class="string">"#"</span>).withKeyValueSeparator(<span class="string">"="</span>);</span><br></pre></td></tr></table></figure>
<h3 id="strings-in-guava"><a class="header-anchor" href="#strings-in-guava"> </a>strings in Guava</h3>
<h4 id="charsets"><a class="header-anchor" href="#charsets"> </a>Charsets</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">byte</span>[] bytes2 = <span class="string">"foobarbaz"</span>.getBytes(Charsets.UTF_8);</span><br></pre></td></tr></table></figure>
<h4 id="strings"><a class="header-anchor" href="#strings"> </a>Strings</h4>
<p>Have you ever had to write something like the following?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">StringBuilder builder = <span class="keyword">new</span> StringBuilder(<span class="string">"foo"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> c = <span class="string">'x'</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">3</span>; i++)&#123;</span><br><span class="line">    builder.append(c);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> builder.toString();</span><br></pre></td></tr></table></figure>
<p>The previous example, which spans 6 lines of code, can now be replaced with one line.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Strings.padEnd(<span class="string">"foo"</span>,<span class="number">6</span>,<span class="string">'x'</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>中间参数6表示返回字符串的最小长度，而不是添加了多少次x。</p>
</blockquote>
<p>如遇null，建议使用nullToEmpty。</p>
<h4 id="charmatcher"><a class="header-anchor" href="#charmatcher"> </a>CharMatcher</h4>
<p>字符匹配、替换操作</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CharMatcher.BREAKING_WHITESPACE.replaceFrom(stringWithLinebreaks,<span class="string">' '</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testRemoveWhiteSpace</span><span class="params">()</span></span>&#123;</span><br><span class="line">    String tabsAndSpaces = <span class="string">"String  with      spaces     and           tabs"</span>;</span><br><span class="line">    String expected = <span class="string">"String with spaces and tabs"</span>;</span><br><span class="line">    String scrubbed = CharMatcher.WHITESPACE.collapseFrom(tabsAndSpaces,<span class="string">' '</span>);</span><br><span class="line">    assertThat(scrubbed,is(expected));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>提取特定字符，字符表达式还可以连写，组成多个条件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testRetainFrom</span><span class="params">()</span></span>&#123;</span><br><span class="line">    String lettersAndNumbers = <span class="string">"foo989yxbar234"</span>;</span><br><span class="line">    String expected = <span class="string">"989234"</span>;</span><br><span class="line">    String retained = CharMatcher.JAVA_DIGIT.retainFrom(lettersAndNumbers);</span><br><span class="line">    assertThat(expected,is(retained));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">CharMatcher cm = CharMatcher.JAVA_DIGIT.or(CharMatcher.WHITESPACE);</span><br></pre></td></tr></table></figure>
<h4 id="preconditions"><a class="header-anchor" href="#preconditions"> </a>Preconditions</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PreconditionExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String state;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] values = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">5</span>];</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> currentIndex;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PreconditionExample</span><span class="params">(String state)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//returns value of object if not null</span></span><br><span class="line">        <span class="keyword">this</span>.state = checkNotNull(state,<span class="string">"Label can't be null"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateCurrentIndexValue</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> valueToSet)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//Check index valid first</span></span><br><span class="line">        <span class="keyword">this</span>.currentIndex = checkElementIndex(index, values.length, <span class="string">"Index out of bounds for values"</span>);</span><br><span class="line">        <span class="comment">//Validate state of value</span></span><br><span class="line">        checkArgument(valueToSet &lt;= <span class="number">100</span>,<span class="string">"Value can't be more than 100"</span>);</span><br><span class="line">        values[<span class="keyword">this</span>.currentIndex] = valueToSet;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doOperation</span><span class="params">()</span></span>&#123;</span><br><span class="line">        checkState(validateObjectState(),<span class="string">"Can't perform operation"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">validateObjectState</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.state.equalsIgnoreCase(<span class="string">"open"</span>) &amp;&amp; values[<span class="keyword">this</span>.currentIndex]==<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] getValues() &#123;</span><br><span class="line">        <span class="keyword">return</span> values;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>主要方法：</p>
<ul>
<li>checkNotNull (T object, Object message)</li>
<li>checkElementIndex (int index, int size, Object message)</li>
<li>checkArgument(Boolean expression, Object message)</li>
<li>checkState(Boolean expression, Object message)</li>
</ul>
<p>用来</p>
<ul>
<li>检查字符串错误，返回错误消息文本</li>
<li>检查数字，正确返回数字本身，错误抛出异常</li>
</ul>
<p>可以查看源码com.google.common.base.Preconditions的实现，封装了各种检查</p>
<h3 id="object-utilities"><a class="header-anchor" href="#object-utilities"> </a>Object utilities</h3>
<p>重写toString方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Objects.toStringHelper(<span class="keyword">this</span>)</span><br><span class="line">            .omitNullValues()</span><br><span class="line">            .add(<span class="string">"title"</span>, title)</span><br><span class="line">            .add(<span class="string">"author"</span>, author)</span><br><span class="line">            .add(<span class="string">"publisher"</span>, publisher)</span><br><span class="line">            .add(<span class="string">"price"</span>, price)</span><br><span class="line">            .add(<span class="string">"isbn"</span>, isbn).toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>重写hashCode方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Objects.hashCode(title, author, publisher, isbn);&#125;</span><br></pre></td></tr></table></figure>
<p>重写compareTo方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Book o)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ComparisonChain.start()</span><br><span class="line">            .compare(<span class="keyword">this</span>.title, o.getTitle())</span><br><span class="line">            .compare(<span class="keyword">this</span>.author, o.getAuthor())</span><br><span class="line">            .compare(<span class="keyword">this</span>.publisher, o.getPublisher())</span><br><span class="line">            .compare(<span class="keyword">this</span>.isbn, o.getIsbn())</span><br><span class="line">            .compare(<span class="keyword">this</span>.price, o.getPrice())</span><br><span class="line">            .result();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87257256-1', 'auto');
  ga('send', 'pageview');

</script>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Aria2GUI：绕过百度网盘满速下载]]></title>
      <url>http://mei6.site/2016/11/13/Aria2GUI/</url>
      <content type="html"><![CDATA[<!-- abstract -->
<p><img src="http://www.sdifenzhou.com/wp-content/uploads/2016/11/Aria2GUInew.jpg" alt=""></p>
<a id="more"></a>
<!-- 开始正文 -->
<p>看起来是个神器，感谢作者，<a href="http://www.sdifenzhou.com/aria2guinew.html" target="_blank" rel="noopener">博客链接</a></p>
<p>下载要点这个
<img src="http://ogjeb66bz.bkt.clouddn.com/14790250259177.jpg" alt=""></p>
<p>试了一下，出差就酒店的下载速度
<img src="http://ogjeb66bz.bkt.clouddn.com/14790250400044.jpg" alt=""></p>
<blockquote>
<p>阿里数据库同步的otter使用的也是Aira2客户端，不过没有GUI。</p>
</blockquote>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87257256-1', 'auto');
  ga('send', 'pageview');

</script>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Ceceree]]></title>
      <url>http://mei6.site/2016/11/13/ceceree/</url>
      <content type="html"><![CDATA[<!-- abstract -->
<p>忍不住想分享一下，Mac上的App心愿单Ceceree</p>
<p><img src="http://ogjeb66bz.bkt.clouddn.com/14790227328887.jpg" alt=""></p>
<a id="more"></a>
<!-- 开始正文 -->
<p>有没有看到很好的App但是很贵，舍不得下手？又不知道什么时候限免？</p>
<p>Ceceree就是用来收藏心仪App的地方，只要复制App的链接，即可收藏，并且会提示你限免。IOS或者Mac的App都可以收藏。</p>
<p>缺点：不能放到任务栏，只能在Docker里开窗口，有点儿不爽。</p>
<p>还有就是买了之后还没有碰到限免，额，可能还得再等等。</p>
<blockquote>
<p>PS：正版的话不到RMB30，如果有条件，请支持正版。</p>
</blockquote>
<p>附上其他人的详细介绍，<a href="http://www.sdifenzhou.com/ceceree123.html" target="_blank" rel="noopener">http://www.sdifenzhou.com/ceceree123.html</a></p>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87257256-1', 'auto');
  ga('send', 'pageview');

</script>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Getting.Started.with.Google.Guava]]></title>
      <url>http://mei6.site/2016/11/12/PacktPub-Getting-Started-with-Google-Guava/</url>
      <content type="html"><![CDATA[<!-- abstract -->
<p><img src="http://ogjeb66bz.bkt.clouddn.com/14789679847753.jpg" alt=""></p>
<p>Google 的core java库，抽空看一下</p>
<a id="more"></a>
<!-- 开始正文 -->
<p>目录</p>
<ol>
<li><a href="http://www.mei6.site/2016/11/12/PacktPub-Getting-Started-with-Google-Guava/" target="_blank" rel="noopener">Getting.Started.with.Google.Guava</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-util/" target="_blank" rel="noopener">Guava Utilities</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-function/" target="_blank" rel="noopener">Guava Function</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-collection/" target="_blank" rel="noopener">Guava Collection</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Concurrency/" target="_blank" rel="noopener">Guava Concurrency</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Cache/" target="_blank" rel="noopener">Guava Cache</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-EventBus/" target="_blank" rel="noopener">Guava EventBus</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Files/" target="_blank" rel="noopener">Guava Files</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Odds-Ends/" target="_blank" rel="noopener">Guava Odds Ends</a></li>
</ol>
<p>Google的核心Java工具包，从08年开始的项目，看看有什么对我有帮助的。</p>
<hr>
<p>Guava 资料</p>
<p><a href="https://github.com/google/guava" target="_blank" rel="noopener">GitHub</a>
<a href="https://github.com/google/guava/wiki" target="_blank" rel="noopener">User Guide</a>
<a href="http://www.tfnico.com/presentations/google-guava" target="_blank" rel="noopener">Other Help Links</a></p>
<hr>
<h2 id="准备工作"><a class="header-anchor" href="#准备工作"> </a>准备工作</h2>
<p>添加Guava依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.guava<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>guava<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>14.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Guava一直在维护，目前最新版本是20.0，2016.10有新的release：
<img src="http://ogjeb66bz.bkt.clouddn.com/14789742921184.jpg" alt=""></p>
<p>下载书中的源码
<a href="https://www.packtpub.com/books/content/support/13091" target="_blank" rel="noopener">https://www.packtpub.com/books/content/support/13091</a></p>
<p>创建一个测试的小项目，修改Pom，下载的代码版本有点儿老，只更新了maven-compiler-plugin的版本，其他依赖的版本没动，避免升级版本示例代码跑不起来。</p>
<p>把示例代码拷入到项目中，包括测试代码，用Maven Install一下(skip test，个别单元测试有问题)，在项目根目录下创建一个git库，share到GitHub，地址：<a href="https://github.com/fg-meizhi/Getting.Started.with.Google.Guava" target="_blank" rel="noopener">Getting.Started.with.Google.Guava</a>。</p>
<p>好了，看看Guava都能做什么。</p>
<hr>
<p>目录</p>
<ol>
<li><a href="http://www.mei6.site/2016/11/12/PacktPub-Getting-Started-with-Google-Guava/" target="_blank" rel="noopener">Getting.Started.with.Google.Guava</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-util/" target="_blank" rel="noopener">Guava Utilities</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-function/" target="_blank" rel="noopener">Guava Function</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-collection/" target="_blank" rel="noopener">Guava Collection</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Concurrency/" target="_blank" rel="noopener">Guava Concurrency</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Cache/" target="_blank" rel="noopener">Guava Cache</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-EventBus/" target="_blank" rel="noopener">Guava EventBus</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Files/" target="_blank" rel="noopener">Guava Files</a></li>
<li><a href="http://www.mei6.site/2016/11/13/guava-Odds-Ends/" target="_blank" rel="noopener">Guava Odds Ends</a></li>
</ol>
<hr>
<p>感想，自己读书的速度太慢了，还要做点儿笔记备忘，速度就更慢了。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[有了没事儿瞎咧咧的地方]]></title>
      <url>http://mei6.site/2016/11/12/hello-there/</url>
      <content type="html"><![CDATA[<p>一直没有养成写博客的习惯，几年前在javaeye写过一点儿东西，后来东西都是放在Evernote里面。</p>
<p>借助几篇文章，很快的帮我搭起来这个简单的博客，感谢下面这几篇文章的作者，把他们列在这里，希望能帮助有我这样需求的人少走弯路：</p>
<ul>
<li><a href="http://jiji262.github.io/2016/04/15/2016-04-15-hexo-github-pages-blog/index.html" target="_blank" rel="noopener">手把手教你使用Hexo + Github Pages搭建个人独立博客</a></li>
<li><a href="http://www.jianshu.com/p/05289a4bc8b2" target="_blank" rel="noopener">如何搭建一个独立博客——简明Github Pages与Hexo教程</a></li>
<li><a href="https://www.haomwei.com/technology/maupassant-hexo.html" target="_blank" rel="noopener">大道至简——Hexo简洁主题推荐</a></li>
<li><a href="http://www.selfrebuild.net/2016/08/25/mweb-hexo-blog-config/" target="_blank" rel="noopener">使用 Mweb 配合 hexo 编写 github 博客</a></li>
<li><a href="https://joilence.github.io/2016/07/14/improve-blog/" target="_blank" rel="noopener">Hexo 博客进阶配置与常见问题</a></li>
<li><a href="http://codingpub.github.io/2016/04/10/%E5%AE%9A%E5%88%B6Hexo-maupassant/" target="_blank" rel="noopener">定制Hexo - maupassant</a></li>
<li><a href="https://qifuguang.me/2016/08/14/%E5%A6%82%E4%BD%95%E4%B8%BA%E5%8D%9A%E5%AE%A2%E5%A2%9E%E5%8A%A0%E6%89%93%E8%B5%8F%E5%8A%9F%E8%83%BD/" target="_blank" rel="noopener">如何为博客增加打赏功能</a></li>
<li><a href="http://www.jianshu.com/p/619dab2d3c08" target="_blank" rel="noopener">hexo干货系列：（六）hexo提交搜索引擎（百度+谷歌）</a></li>
</ul>
]]></content>
    </entry>
    
  
  
</search>
